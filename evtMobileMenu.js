+function($){var classToggler=function classToggler(param){this.animation=param.animation,this.toggler=param.toggler,this.className=param.className,this.exceptions=param.exceptions;this.init=function(){var that=this;var stopToggler=this.implode(this.exceptions);if(typeof stopToggler!=='undefined'){$(document).on('click',stopToggler,function(e){e.stopPropagation()})}
var toggler=this.implode(this.toggler);if(typeof toggler!=='undefined'){$(document).on('click',toggler,function(e){e.stopPropagation();e.preventDefault();that.toggle()})}};this.toggle=function(){var selectors=this.implode(this.animation);if(typeof selectors!=='undefined'){$(selectors).toggleClass(this.className);if($(selectors).hasClass(this.className)){$('.mr-menu-list > li:first-child a').focus()}else{$('#menu-icon').focus()}}};this.implode=function(arr,imploder){if(!(arr instanceof Array)){return arr}
if(typeof imploder=='undefined'){imploder=','}
var data=arr;var ele='';for(var j=0;j<arr.length;j++){ele+=arr[j];if(j!==arr.length-1){ele+=imploder}}
data=ele;return data}};$(document).on('focus','.circular-focus',function(){$($(this).data('goto')).focus()});$.fn.mrMobileMenu=function(config){var defaultConfig={icon:'#menu-icon',closeIcon:!0,overlay:!0};$.extend(defaultConfig,config);var wrapperId='#'+this.attr('id');if(!$(wrapperId).length){console.error('Selected Element not found in DOM (Mobile menu plugin)');return this}
var _this=this;var shiftMenu=function shiftMenu(){var mobileMenuHTML='<div>'+$(wrapperId).html()+'</div>',that=this;var mobileMenuHTML=$(mobileMenuHTML).find('*').each(function(index,value){var id=$(value).attr('id');if(id){$(value).attr('id','mr-'+id)}});this.init=function(){$(document).ready(function(){that.createMenu();that.addDownArrow();that.toggleSubUl();that.menuToggler();that.addClassOnFirstUl()})};this.createMenu=function(){var closeHTML=defaultConfig.closeIcon?this.closeMenuIcon():null,overlayHTML=defaultConfig.overlay?this.addOverlay():null;$('body').append('<div class="mr-mobile-menu" id="mr-mobile-menu">'+closeHTML+'<ul class="mr-menu-list">'+mobileMenuHTML.html()+'</ul><button class="circular-focus screen-reader-text" data-goto=".mr-inner-box">Circular focus</button></div>'+overlayHTML)};this.closeMenuIcon=function(){return''};this.addOverlay=function(){return'<div class="mr-mobile-menu-overlay"></div>'};this.addClassOnFirstUl=function(){if($('#mr-mobile-menu ul').first().hasClass('menu')){}else{$('#mr-mobile-menu ul').first().addClass('menu')}};this.addDownArrow=function(){var $mobileMenu=$('#mr-mobile-menu'),$hasSubUl=$('#mr-mobile-menu .menu-item-has-children'),haveClassOnLi=$mobileMenu.find('.menu-item-has-children');if(haveClassOnLi.length>0){$hasSubUl.children('a').append('<span class="mr-arrow-box"><span class="mr-down-arrow"></span></span>')}else{$('#mr-mobile-menu ul li:has(ul)').children('a').append('<span class="mr-arrow-box"><span class="mr-down-arrow"></span></span>')}};this.toggleSubUl=function(){$(document).on('mousedown','.mr-arrow-box',toggleSubMenu);$(document).on('click','.mr-arrow-box',function(e){e.preventDefault();e.stopPropagation()});$(document).on('focus','.menu-item-has-children',function(){$(this).find('.sub-menu').slideDown();$(this).find('.mr-arrow-box').addClass('open')});function toggleSubMenu(e){e.stopPropagation();e.preventDefault();$(this).toggleClass('open').parent().next().slideToggle();return!1}};this.menuToggler=function(){var menuConfig={animation:['.mr-mobile-menu-overlay','#mr-mobile-menu','body','#menu-icon'],exceptions:['#mr-mobile-menu'],toggler:['#menu-icon','.mr-mobile-menu-overlay','#mr-close'],className:'mr-menu-open'};new classToggler(menuConfig).init()}};new shiftMenu().init()}}(jQuery)